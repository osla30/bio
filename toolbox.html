<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>科科計算工具箱</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-pink-100 via-sky-100 to-violet-200 p-6">
  <div class="max-w-6xl mx-auto">
    <!-- Header -->
    <header class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-3">
      <div>
        <h1 class="text-4xl font-extrabold text-violet-700 drop-shadow">科科計算工具箱</h1>
        <p class="text-sm text-slate-600">小編自製網頁工具</p>
      </div>
    </header>

    <!-- 搜尋區 -->
    <section class="mb-4">
      <div class="flex flex-col sm:flex-row gap-3">
        <div class="relative flex-1">
          <input id="search" oninput="filterTools()" placeholder="🔍 搜尋標題或說明..."
            class="w-full bg-white border-2 border-sky-300 rounded-xl px-4 py-3 shadow-md focus:outline-none focus:ring-2 focus:ring-sky-400" />
        </div>
        <div class="flex gap-2 items-center">
          <button onclick="resetFilter()" class="px-4 py-2 rounded-xl bg-gradient-to-r from-sky-400 to-sky-600 text-white shadow hover:opacity-90 transition">重置</button>
          <div id="count" class="text-sm text-slate-700 font-medium"></div>
        </div>
      </div>
    </section>

    <!-- 工具卡片 -->
    <main>
      <div id="toolGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
      <div id="noResult" class="hidden mt-8 text-center text-slate-500">❌ 找不到符合條件的工具。</div>
    </main>

    <footer class="mt-10 text-sm text-slate-600 text-center">
      若喜歡，可自由 <span class="text-pink-600 font-semibold">Donate</span> 支持：
      <a href="https://pse.is/4524sw" target="_blank" class="text-sky-600 underline hover:text-violet-600">https://pse.is/4524sw</a>
    </footer>
  </div>

  <script>
    const TOOLS = [
      { title: "科科計算器", url: "https://osla30.github.io/bio/biocalculate", description: "各類科學計算：<br>莫耳濃度、稀釋、酸鹼、動物投藥、細胞計數等" },
      { title: "TGOne鑄膠計算器", url: "https://osla30.github.io/bio/tgonecalculate", description: "TGOne Buffer 鑄膠計算 (SDS-PAGE用)<br><br>仿 Bio-Rad TGX 快速凝膠試劑" },
      { title: "TGOne抄寫紙本", url: "https://drive.google.com/file/d/1ImMVqoS0MFTVE7sP_CGpgBiLzuiv7_ox/view", description: "TGOne 計算後抄寫小紙條 (SDS-PAGE用)" },
      { title: "Bio-Rad TGX鑄膠計算器", url: "https://osla30.github.io/bio/tgxcalculate", description: "Bio-Rad TGX 鑄膠計算 (SDS-PAGE用)<br><br>正茂介紹 (TGX 快速凝膠試劑組)：https://www.genmall.com.tw/products/tgx-fastcast-acrylamide-kit" },
      { title: "經典SDS-PAGE鑄膠計算器", url: "https://osla30.github.io/bio/classicpagecalculate", description: "傳統經典 鑄膠計算 (SDS-PAGE用)<br><br>4X 上膠 Buffer (0.5M Tris pH6.8)<br>4X 下膠 Buffer (1.5M Tris pH8.8)" },
    ];

    const toolGrid = document.getElementById("toolGrid");
    const countEl = document.getElementById("count");
    const noResult = document.getElementById("noResult");

    const COLORS = [
      "from-pink-200 to-pink-400",
      "from-sky-200 to-sky-400",
      "from-violet-200 to-violet-400",
      "from-emerald-200 to-emerald-400",
      "from-amber-200 to-amber-400"
    ];

    function renderTools(list) {
      toolGrid.innerHTML = "";
      list.forEach((tool, i) => {
        const card = document.createElement("article");
        const color = COLORS[i % COLORS.length];
        card.className = `bg-gradient-to-br ${color} p-5 rounded-2xl shadow-lg hover:-translate-y-1 hover:shadow-xl transition`;
        card.innerHTML = `
          <div>
            <h2 class="font-bold text-xl text-slate-800 drop-shadow">${tool.title}</h2>
            <p class="text-sm text-slate-700 mt-2">${tool.description}</p>
            <div class="flex flex-wrap gap-3 justify-center mt-4">
              <a href="${tool.url}" target="_blank" class="px-4 py-2 rounded-lg bg-white/80 text-sky-700 font-medium shadow hover:bg-white">開啟工具</a>
              <button onclick="copyToClipboard('${tool.url}')" class="px-4 py-2 rounded-lg bg-white/80 text-pink-700 font-medium shadow hover:bg-white">複製連結</button>
            </div>
          </div>`;
        toolGrid.appendChild(card);
      });
      countEl.textContent = `共 ${list.length} 個工具`;
      noResult.classList.toggle("hidden", list.length > 0);
    }

    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert("已複製到剪貼簿：" + text);
      });
    }

    function filterTools() {
      const q = document.getElementById("search").value.trim().toLowerCase();
      const filtered = TOOLS.filter(t => t.title.toLowerCase().includes(q) || t.description.toLowerCase().includes(q));
      renderTools(filtered);
    }

    function resetFilter() {
      document.getElementById("search").value = "";
      renderTools(TOOLS);
    }

    // 初始化
    renderTools(TOOLS);
  </script>
</body>
</html>